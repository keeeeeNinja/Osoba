## PC版メディアクエリ実装プロンプト

目的
- **SP版（デフォルト）をベース**に、PC版の差分のみを `@media (min-width: 768px)` 内で上書きし、Figma MCP のレイアウト情報を正確に反映する。

前提・入力
- Figma MCP から取得できる各コンポーネントのレイアウト/タイポ/間隔/色の情報（PCフレーム）
- 既存の `index.html` と `assets/css/style.css`（SP定義が既に入っている）

適用範囲・HTML不変ポリシー（必須）
- HTML構造は原則変更しない（タグの追加・削除・並び替えは避ける）。
- 例外: PC版での実装上、HTMLを追加した方が明確・堅牢になる場合は、SP版が崩れないように配慮して追加してよい。
  - 条件: 追加要素はSPではスタイル未適用（または無害）とし、PCの `@media (min-width: 768px)` 内でのみ見た目を制御すること。
  - 目的: レイアウトラッパー（例: 横並びの外枠）や要素分割（見出し/本文/ボタンなど）による可読性・保守性の向上。
- 既存のクラスセレクタは原則そのまま使用するが、上記例外に該当する場合はPC用のラッパー/子要素クラスを追加してよい。
- モディファイアもSPに存在する場合のみ使用可（新規追加は必要最小限）。
- セレクタの特異性は増やさない（子孫結合の深掘り、属性・疑似クラスの追加での上書きは避ける）。

プロジェクト固有ルール（必読）
- **モバイルファースト**。SP = デフォルト、PCは `@media (min-width: 768px)` 内に記述する。
- CSSプロパティは**縦に揃え、1行に複数書かない**。インデントは**半角スペース4つ**。
- **max-width禁止**。幅は `%` の `width` で指定する。
- 画像は **HTML の `img` タグ**で表示（CSSの `background-*` での画像表示は原則禁止）。
- README を最優先で遵守すること。BEM命名・深いネスト禁止・`!important`/IDセレクタ禁止。

MCP差分抽出アルゴリズム（重要）
1. 取得順序:
    - get_variables
    - get_codegen（レイアウト/typography）
    - get_node（必要要素のみ：radius、constraints、auto-layout方向/ギャップ等）
2. 比較対象: SPの**実際の適用値** vs PCのMCP値
3. 差分判定:
    - 同値 → 記述しない
    - 異なる → PCで上書き
    - SP未定義 ∧ PC定義 → 追加
    - MCP未提供 → 推測値禁止（TODOに記録／相談）

上書きホワイト/ブラックリスト
- 上書きOK: `width(%)`, `padding/gap`, `grid-template-*`, `flex-*`, `display`, `font-size`, `line-height`, `letter-spacing`, `align-*`, `justify-*`, `order`
- 原則NG: `position`, `z-index`, `transform`, `translate`, 固定の `height/width(px)`
- 例外: SPでも同属性を使用し、かつMCPにPCの要件が明記されている場合のみ可（差分表に根拠リンクを記す）

継承と上書きの原則
- SPで既に設定済みのプロパティは、**PCで値が変わる場合のみ上書き**する。不要な再宣言はしない。
- 高さは固定値を避け、必要に応じて `min-height` や `gap`、`padding` で調整（画像は `height: auto` + `aspect-ratio`）。
- タイポグラフィは `rem` 管理。`html { font-size }` はMCPに明示がある場合のみ変更。
- 見出し階層のサイズ比はSP準拠。MCPに階層ごとのPC値がある場合のみ上書き。
- レイアウトはまず Flex/Grid を用い、`position: absolute` 依存は最小化。
- 既存の可視/不可視制御（例: ハンバーガーとグロナビの切替）は `display` 等の最小変更で切替、SPの挙動を壊さない。

画像・比率規約
- 画像要素は `width: 100%` + `height: auto` を維持
- `aspect-ratio` の変更は **MCPのPCフレームに明示の比率がある場合のみ**

ユニット・丸め・一貫性（必須）
- 幅は `%` 指定。`max-width` は使用しない。
- フォントは `rem`。ラインハイトは数値または `rem` で明示（単位なしの整数は使用しない）。
- 余白（`padding`/`gap`/`margin`）はSPの単位に合わせ、PCでも同系列の単位で調整。
- パーセンテージの小数は必要最小限（目安2〜3桁）。
 - %換算の分母は次に従う：
   - Block（セクション直下・ページ直下の最上位コンテナ）→ フレーム幅（例: 1440）
   - Element（子要素）→ 直近の親コンテナの幅（MCPの親ノード幅）
   - 例: 親606px・子494px → 494/606 = 81.52%

オーバーフロー規約
- 横スクロール禁止。発生時の対処順: 子要素固定幅→列/ギャップ→相談
- `overflow: hidden` の付与は最後の手段。先に幅・余白・列定義を見直す

生成手順
1. 対象コンポーネントを特定（Block単位）
2. MCPのPCレイアウト値とSPの既存値を比較し、**差分リスト**（変わるプロパティのみ）を作成
3. `style.css` 末尾の `@media (min-width: 768px)` 内に、SPと**完全同順**で差分だけを追記
4. 横幅は `%`、余白は `gap`/`padding` を優先。行間は `line-height`（単位付きの数値）で明示
5. 画像は `width: 100%` + `height: auto` + `aspect-ratio` を維持したまま、必要な外側余白のみ調整

差分抽出チェックリスト
- コンテナ: `width`（%）、左右`padding`、`gap`/`column-gap`/`row-gap`、配置（`justify-*`/`align-*`）
- グリッド/フレックス: 列数・テンプレート（`grid-template-columns`）、折返し有無、整列方法、`order`
- タイポ: `font-size`、`line-height`、`letter-spacing`、見出し階層のサイズ比
- アイコン/画像: 表示サイズ（外枠の調整）、縦横比（`aspect-ratio` 維持）、整列
- 可視制御: PCで表示/非表示にする要素の `display` 切替（SPの逆転）
- ボタン/リンク: ヒット領域（`padding`）、整列、アイコンとラベルの間隔
- セクション間: 上下の余白（PCでは詰め/広げの差分が出やすい）

出力仕様（CSSのみ）
- 既存のSP定義は**削除・変更しない**。PCは**追記のみ**
- 記述場所は `@media (min-width: 768px)` の**一箇所**。ブレークポイントは増やさない
- 同一セレクタはメディアクエリ内で一回に集約
- 1行1プロパティ、4スペースインデント、プロパティは縦揃え
- コメントは行末禁止。直上行に `/* ... */` を書く
- セレクタの並び順はSPのstyle.cssと完全一致

テンプレート

@media (min-width: 768px) {
    /* === <Block 名> (PC) === */
    /* 差分根拠: Figma PC frame <URL or node-id> */
    .<block> {
        /* 変更があるプロパティのみ記述 */
    }

    .<block>__<element> {
        /* 変更があるプロパティのみ記述 */
    }

    .<block>--<modifier> {
        /* SPに存在する場合のみ */
    }
}

検証チェックリスト
- PC幅でSPに影響を与えず、期待通りの見た目か（SP幅に戻しても崩れない）
- 横スクロール・オーバーフローが発生していないか
- 画像の縦横比が維持されているか
- `max-width` や `background-image` の使用がないか
- セレクタ特異性を不必要に上げていないか
- HTML構造を変更せず実現できているか

禁止事項（再掲）
- `!important`、IDセレクタ、深いネスト、JSの追加
- ブレークポイントの追加や分散（768px のみ）
- SP定義の削除・上書き（PCは差分追記）
- `max-width` の使用、`background-image` で画像を表示
- 推測値の使用

補足
- 値は**必ず Figma MCP のPCフレーム**をソースとする
- 迷ったときはSPの情報を尊重し、PCでは必要最小限の差分に留める
